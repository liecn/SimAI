# YAML config for dataset, training, and model parameters

# Dataset parameters
dataset:
  shard: 0
  lr: 10
  # n_links_max: 96
  n_links_max: 768
  # n_links_max: 16896
  # n_links_max: 135168
  train_frac: 0.9
  topo_type: "_topology_flows"
  sampling_method: "balanced" # weighted, uniform, balanced
  flow_size_threshold: 100000000
  enable_flowsim_gt: False
  enable_remainsize: False
  enable_queuelen: False

# Network parameters for ML model
# network:
#   buffer_size: 800.0    # Buffer size (bfsz parameter)
#   fwin: 200.0            # Flow window parameter  
#   dctcp_k: 100.0         # DCTCP threshold parameter

network:
  buffer_size: 100.0    # Buffer size (bfsz parameter)
  fwin: 100.0            # Flow window parameter  
  dctcp_k: 50.0         # DCTCP threshold parameter

# M4-specific parameters
m4:
  batch_size_flows: 128    # Process exactly N flows per ML update

# Model parameters
model:
  input_size: 2
  n_layer: 2
  gcn_n_layer: 3
  loss_fn_type: "l1"
  hidden_size: 200
  gcn_hidden_size: 300
  dropout: 0.0
  enable_positional_encoding: False
  enable_gnn: True
  enable_lstm: True
  enable_link_state: True

# Training parameters
training:
  gpu: [0]
  n_epochs: 5
  batch_size: 1
  learning_rate: 0.0001
  num_workers: 2
  enable_val: False
  enable_dist: False